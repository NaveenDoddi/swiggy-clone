<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/accd26a21f.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="customerDashboard.css">
    <link rel="icon" type="image/x-icon" href="images/Swiggy_logo.png">

    <title>Order Food Online from India's Best Food Delivery Service | Swiggy</title>


    <style>
        .offersDiv {
            width: auto;
            height: 150px;
            position: relative;
            overflow: hidden;
                
            font-weight: 500;
        }
        
        .content {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            transform: translateY(100%);
            /* text-align: center; */
            transition: transform 1s ease-in-out;
        }
        .content.active {
            transform: translateY(10%);
        }

        .carousel-item{
            text-align: center;
        }

        .carousel-item img{
            height: 200px;
        }
        .footer1Items{
            padding: 10px;
            border: 1px solid lightgray;
            border-radius: 10px;
            text-align: center;
            width: 150px;


        }

    </style>
</head>
<body onload="displayItems()">
    <div class="m-2">
        <div>
            <nav class="  bg-body-tertiary">
                <div class="d-flex justify-content-between bg-light" >
                    
                    <div class="p-3">
                        <div>
                            <img src="images/Swiggy_logo.png" alt="logo" style="max-width: 60px; float: left;" id="logo">  
                            <button type="button" class="btn d-flex mx-auto" data-bs-toggle="offcanvas" data-bs-target="#left">
                                Other &nbsp; <i class="fa-solid fa-chevron-down" style="color:#fd7e14"></i>
                            </button>
                        </div>
                        
                    <!-- for userdetails off canvass on left side  -->
                        
                        <div class="offcanvas offcanvas-start" tabindex="-1" id="left" aria-labelledby="left">
                            <div class="offcanvas-header">
                                <h5 class="offcanvas-title" id="offcanvasExampleLabel">Details</h5>
                                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                            </div>
                            <div class="offcanvas-body">
                                <div class="navbar-nav">
                                    <a class="nav-link" href="#">Username: <span id="usernameSpan"></span></a>
                                    <a class="nav-link" href="#">Address: <span id="addressSpan"></span></a>
                                    <a class="nav-link" href="#">Mobile: <span id="mobileSpan"></span></a>
                                    <a class="nav-link" href="#">E-mail: <span id="emailSpan"></span></a>
                                    <a class="nav-link" href="#"><button class="btn btn-danger" onclick="logout()">Logout</button></a>
                                    <a class="nav-link" href="#">@about Swiggy</a>
                                    <a class="nav-link Disabled d-none" href="#"><span id="idSpan"></span></a>
                                </div>
                            </div>
                        </div>                        
                    </div>

                    <div class="pt-3">

                        <div class="d-md-none">
                            <button type="button" class="btn" data-bs-toggle="offcanvas" data-bs-target="#right">
                                <i class="fa-solid fa-bars"></i>
                            </button>
                        </div>
                        
                        <div class="offcanvas-md offcanvas-end" tabindex="-1" id="right" aria-labelledby="offcanvasExampleLabel">
                            <div class="offcanvas-header">
                                <h5 class="offcanvas-title" id="offcanvasExampleLabel">Details</h5>
                                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" data-bs-target="#right" aria-label="Close"></button>
                            </div>
                            <div class="offcanvas-body">
                                <div class="">
                                    <a href="search.html"><button class="btn"><i class="fa-solid fa-search"></i> &nbsp; Search</button></a>
                                    <a href="#offers"><button class="btn"><i class="fa-solid fa-percent"></i> &nbsp; Offers</button></a>
                                    <a href="support.html"><button class="btn"><i class="fa-solid fa-life-ring"></i> &nbsp; Help</button></a>
                                    <a href="customerLogin.html"><button class="btn"><i class="fa-solid fa-user"></i> &nbsp; SignIn</button></a>
                                    <a href="cart.html"><button class="btn"><i class="fa-solid fa-cart-shopping"></i> &nbsp; Cart</button></a>
                                </div>
                            </div>
                        </div>
                    </div>
        
                </div>
            </nav>
        </div>
        <div class="body mt-4 p-4">
            <div>

                <div style="border: 1px solid; border-radius: 5px;" class="input-group mb-3 d-md-none"  id="searchInput">
                    <!-- input search -->
                    <input style="color: #fd7e14;" type="text border-none" class="form-control" placeholder="Search for area, street name.." aria-label="Recipient's username" aria-describedby="button-addon2">
                    <button style="border-left: 1px solid;" class="btn" type="button" id="button-addon2"><i class="fa-solid fa-search"></i></button>
                </div>

                <div>
                    <div id="mindDiv">
                        <div class="d-flex justify-content-between">
                            <div class="fw-bolder fs-5 m-2">What's on your mind?</div>
                            <div class="d-flex">
                                <button  style="width: 40px; height: 40px;" class="btn rounded-circle bg-secondar"onclick="scrolltoRight(this)"><i class="fa-solid fa-arrow-left"></i></button> &nbsp;
                                <button  style="width: 40px; height: 40px;" class="btn rounded-circle bg-secondar" onclick="scrolltoLeft(this)"><i class="fa-solid fa-arrow-right"></i></button>
                            </div>
                        </div>
                        <div id="mindItems">
                            <div>
                                <img src="images/Dosa.avif" >
                            </div>
                            <div>
                                <img src="images/Biryaniscroll.avif" >
                            </div>
                            <div>
                                <img src="images/Burger.avif" >
                            </div>
                            <div>
                                <img src="images/scrollCakes.avif" >
                            </div>
                            <div>
                                <img src="images/Uttapam.avif" >
                            </div>
                            <div>
                                <img src="images/Omelette.avif" >
                            </div>
                            <div>
                                <img src="images/Pongal.avif" >
                            </div>
                            <div>
                                <img src="images/Coffee.avif" >
                            </div>
                            <div>
                                <img src="images/tea1.avif" >
                            </div>
                            <div>
                                <img src="images/pizza.jpg" >
                            </div>
                            
                        </div>
                    </div>
                </div>

                <!-- carousels -->
                <div class=" d-flex justify-content-center mt-5 row">
                    <div id="carouselExampleRide" class="carousel slide col col-md-8" data-bs-ride="true">
                        <div class="carousel-indicators">
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="4" aria-label="Slide 5"></button>
                        </div>
                        <div class="carousel-inner" >
                            <div class="carousel-item active">
                                <img src="images/cara1.webp" class="d-block w-100 w-md-50" alt="...">
                              </div>
                              <div class="carousel-item">
                                <img src="images/cara3.jpg" class="d-block w-100" alt="...">
                              </div>
                              <div class="carousel-item">
                                <img src="images/cara2.png" class="d-block w-100" alt="...">
                              </div>
                              <div class="carousel-item">
                                <img src="images/cara2.avif" class="d-block w-100" alt="...">
                              </div>
                              <div class="carousel-item">
                                <img src="images/cara4.jpg" class="d-block w-100" alt="...">
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleRide" data-bs-slide="prev">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleRide" data-bs-slide="next">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Next</span>
                        </button>
                    </div>

                </div>
                
                <!-- top restaurants scroll div -->
        
                <div class="mt-5" id="Toprest">
        
                    <div class="d-flex justify-content-between">
                        <div class="fw-bolder fs-5 m-2">Top restaurants chains in Hyderabad</div>
                        <div class="d-flex">
                            <button style="width: 40px; height: 40px;" class="btn rounded-circle bg-secondar" onclick="scrolltoRight(this)"><i class="fa-solid fa-arrow-left"></i></button> &nbsp;
                            <button style="width: 40px; height: 40px;" class="btn rounded-circle bg-secondar" onclick="scrolltoLeft(this)"><i class="fa-solid fa-arrow-right"></i></button>
                        </div>
                    </div>
        
                    <div id="topResItems">
        
                        <div  id="card">
                            <div class="card" style="width: 18rem;">
                                <img src="images/topres1.png" class="card-img-top" alt="...">
                                <div class="card-body text-start">
                                  <h6 class="card-title">Shah Ghouse Hotel & Restaurant</h6>
                                  <h6 class="card-text"> <i class="fa-solid fa-star text-success"></i> 4.2 35-40 mins</h6>
                                  <p class="card-text fw-light">North Indian Charminar 6.3 km <br>Charminar 6.3 km</p>
                                </div>
                            </div>
                        </div>
        
                        <div id="card">
                            <div class="card" style="width: 18rem;">
                                <img src="images/topres2.png" class="card-img-top" alt="...">
                                <div class="card-body text-start">
                                  <h6 class="card-title">Grand Hotel</h6>
                                  <h6 class="card-text"> <i class="fa-solid fa-star text-success"></i> 4.2 40-45 mins</h6>
                                  <p class="card-text fw-light">Biryani, chinese, Tandoor, Haleem... <br>Adibs</p>
                                </div>
                            </div>
                        </div>
                        
                        <div id="card">
                            <div class="card" style="width: 18rem;">
                                <img src="images/topres3.png" class="card-img-top" alt="...">
                                <div class="card-body text-start">
                                  <h6 class="card-title">Imperial Multi-Cusine Restaurant</h6>
                                  <h6 class="card-text"> <i class="fa-solid fa-star text-success"></i> 4.3 25-30 mins</h6>
                                  <p class="card-text fw-light">Biryani, Chinese... <br>Banjara Hills</p>
                                </div>
                            </div>
                        </div>
                        
                        <div id="card">
                            <div class="card" style="width: 18rem;">
                                <img src="images/topres4.png" class="card-img-top" alt="...">
                                <div class="card-body text-start">
                                  <h6 class="card-title">Sarvi Restaurant</h6>
                                  <h6 class="card-text"> <i class="fa-solid fa-star text-warning"></i> 3.7 30-35 mins</h6>
                                  <p class="card-text fw-light">Biryani, chinese, Indian kebabs... <br>Banjara Hills</p>
                                </div>
                            </div>
                        </div>
                        
                        <div id="card">
                            <div class="card" style="width: 18rem;">
                                <img src="images/topres5.png" class="card-img-top" alt="...">
                                <div class="card-body text-start">
                                  <h6 class="card-title">Hotel Rumaan</h6>
                                  <h6 class="card-text"> <i class="fa-solid fa-star text-warning"></i> 3.3 30-35 mins</h6>
                                  <p class="card-text fw-light">Biryani, chinese, Tandoor, Indian... <br>Banjara Hills</p>
                                </div>
                            </div>
                        </div>
        
                        <div id="card">
                            <div class="card" style="width: 18rem;">
                                <img src="images/topres6.png" class="card-img-top" alt="...">
                                <div class="card-body text-start">
                                  <h6 class="card-title">Grameen Kulfi</h6>
                                  <h6 class="card-text"> <i class="fa-solid fa-star text-success"></i> 4.7 25-30 mins</h6>
                                  <p class="card-text fw-light">Ice creams, Desserts <br>Banjara Hills</p>
                                </div>
                            </div>
                        </div>
                        
                        <div id="card">
                            <div class="card" style="width: 18rem;">
                                <img src="images/topres7.png" class="card-img-top" alt="...">
                                <div class="card-body text-start">
                                  <h6 class="card-title">Al Rabea Al Arabi Cafeteria</h6>
                                  <h6 class="card-text"> <i class="fa-solid fa-star text-danger"></i> 2.3 20-25 mins</h6>
                                  <p class="card-text fw-light">Arabian, Lebanese <br>Mehadipatnam</p>
                                </div>
                            </div>
                        </div>
                        
                        <div id="card">
                            <div class="card" style="width: 18rem;">
                                <img src="images/topres8.png" class="card-img-top" alt="...">
                                <div class="card-body text-start">
                                  <h6 class="card-title">Baskin Robbins - Ice Cream Desserts</h6>
                                  <h6 class="card-text"> <i class="fa-solid fa-star text-success"></i> 4.1 20-30 mins</h6>
                                  <p class="card-text fw-light">Desserts <br> Toli Chowki</p>
                                </div>
                            </div>
                        </div>
                        
                        <div id="card">
                            <div class="card" style="width: 18rem;">
                                <img src="images/topres9.png" class="card-img-top" alt="...">
                                <div class="card-body text-start">
                                  <h6 class="card-title">Sweet Truth - Cake and Desserts</h6>
                                  <h6 class="card-text"> <i class="fa-solid fa-star text-warning"></i> 2.1 30-40 mins</h6>
                                  <p class="card-text fw-light">Snacks, Bakery, Desserts, Beverages <br>Abids</p>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>

            <!-- credit cards show -->
            <div id="offers" class="container bg-light text-dark mt-4">

                <div class="offersDiv">
                    <p><small></small></p>
                    <div class="text-center"><img src="images/offersLogo.jpg" style="height: 50px;" alt=""> </div>
        
                    <div class="offersDiv text-center">
                        <div class="content active" id="content1">
                          <p>* get up to 60% Off on your first order </p>
                      </div>
                        <div class="content" id="content2">
                          <p> * Flat 40% Off on Biryani's </p>
                      </div>
                        <div class="content" id="content3">
                          <p>* Debit or credit card users of ICICI Bank can get upto 50% off on select orders.</p>
                      </div>
                        <div class="content" id="content3">
                          <p>* Apply Coupon : SPFOODFEST2310 *Once per Account </p>
                      </div>
                        <div class="content" id="content4">
                          <p>* Meals starting from Rs. 99 </p>
                      </div>
                    </div>
        
                </div>
        
            </div>

            <!-- new items added -->

            <div>
                <div class="fw-bolder fs-5 m-2 mt-4 text-center">For You</div>
                <div class="row m-2 mt-2 d-flex justify-content-center" id="dishItemsnew">

                </div>
            </div>

        </div>
        
        <div class="footer1 m-2" id="footer1">
            <div class="fw-bolder fs-5 m-2">Best Places to Eat Across Cities</div>
                <marquee behavior="smooth" direction="left" class="row">
                    <div class="gap-3 row">
                        <div class="footer1Items">
                            Bangalore
                        </div>
                        <div class="footer1Items">
                            Pune
                        </div>
                        <div class="footer1Items">
                            Mumbai
                        </div>
                        <div class="footer1Items ">
                            Delhi
                        </div>
                        <div class="footer1Items ">
                            Hyderabad
                        </div>
                        <div class="footer1Items ">
                            Chennai
                        </div>
                        <div class="footer1Items ">
                            Chandigarh
                        </div>
                        <div class="footer1Items ">
                            Ahmedabad
                        </div>
                        <div class="footer1Items ">
                            Jaipur
                        </div>
                        <div class="footer1Items ">
                            Nagpur
                        </div>
                        <div class="footer1Items ">
                            Bhubaneswar
                        </div>
                        <div class="footer1Items ">
                            Kochi
                        </div>
                        <div class="footer1Items ">
                            Surat
                        </div>
                        <div class="footer1Items ">
                            Dehradun
                        </div>
                        <div class="footer1Items ">
                            Vadodara
                        </div>
                        <div class="footer1Items ">
                            Udaipur
                        </div>
                        <div class="footer1Items ">
                            Vizag
                        </div>
                        <div class="footer1Items ">
                            Ranchi
                        </div>
                        <div class="footer1Items ">
                            Thiruvananthapuram
                        </div>
                        <div class="footer1Items ">
                            Pondicherry
                        </div>
                        <div class="footer1Items ">
                            Agra
                        </div>
                        <div class="footer1Items ">
                            Noida
                        </div>
                    </div>
                    
                </marquee>
                
            </div>

        </div>

    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <script>
        function displayItems(){
                
            fetch("http://localhost:3000/restaurants")
            .then(res => res.json())
            .then(data => {
              data.map((restaurants)=>{
            
                Object.values(restaurants.items).map((item)=>{
                
                  var div = document.createElement('div')
                  div.className = "card col col-11 col-sm-6 col-md-4 col-lg-3 bg-light text-dark p-1"
                  div.style.width = "18 rem"

                  var cardDiv = document.createElement("div")
                  cardDiv.className = "cardimage"
                
                  var cardImage = document.createElement("img")
                  cardImage.src = item.pic
                  cardImage.style.height = "170px"
                  cardImage.style.borderRadius= "20px"

                  cardImage.className = "card-img-top"

                  cardDiv.append(cardImage)
                
                  var cardBody = document.createElement("div")
                  cardBody.className="card-body"

                  var cardDetails = document.createElement("div")
                  cardDetails.className = "card-text"

                  var star = document.createElement("i")
                  star.className = "fa-solid fa-star text-warning"


                  var restaurantNmae = document.createElement("h6")
                  restaurantNmae.innerText = restaurants.restaurant+" "
                  restaurantNmae.className = "card-title"
                  restaurantNmae.append(star)
                  cardDetails.append(restaurantNmae)
                
                  var itemName = document.createElement("h6")
                  itemName.innerText = item.dishName
                  cardDetails.append(itemName)
                
                  var itemPrice = document.createElement("p")
                  itemPrice.innerText = "Price: " + item.Price + "/-"
                  itemPrice.append(document.createElement("br"))

                  var itemDes = document.createElement("span")

                  itemDes.innerText = item.Description
                  itemPrice.append(itemDes)

                  cardDetails.append(itemPrice)

                  cardBody.append(cardDetails)

                  var addButton = document.createElement("button")
                  addButton.className = "btn btn-success btn-sm"
                  addButton.innerText = "Add +"
                  addButton.addEventListener("click", addtoCart)

                  cardBody.append(addButton)
                
                  cardDiv.append(cardBody)
                
                  div.append(cardDiv)
                  document.getElementById("dishItemsnew").append(div)
                
                })
            
            })
          

            })
        }


        function addtoCart(element){

            console.log(element.currentTarget.parentNode.parentNode)
        }


        function scrolltoLeft(element) {
            var div = element.parentElement.parentElement.parentElement.getElementsByTagName("div")[3]
            div.scrollLeft += 270;            
        }
        function scrolltoRight(element) {
            element.parentElement.parentElement.parentElement.getElementsByTagName("div")[3].scrollLeft -= 270;
        }


        const contents = document.getElementsByClassName('content');
        let currentIndex = 0;
      
        function rotateContent() {
          contents[currentIndex].classList.remove('active');
          currentIndex = (currentIndex + 1) % contents.length;
          contents[currentIndex].classList.add('active');
        }
      
        // Rotate the content every 3 seconds
        setInterval(rotateContent, 3000);
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>


</body>
</html>